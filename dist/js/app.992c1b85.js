(function(t){function e(e){for(var s,i,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);g&&g(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var g=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0017":function(t,e,a){t.exports=a.p+"img/success.476fb656.svg"},3670:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],i=(a("5c0b"),a("2877")),r={},l=Object(i["a"])(r,o,n,!1,null,null,null),c=l.exports,g=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"home__header"},[t.isLoadingBlogs?a("span",[t._v("Getting")]):t._e(),t._m(0)]),t.isLoadingBlogs?a("div",{staticClass:"loader"},[a("Loader",{attrs:{isFullScreen:!1}})],1):t._e(),t.isLoadingBlogs?t._e():a("div",{staticClass:"home__blog-content"},t._l(t.blogList,(function(e,s){return a("div",{key:s,staticClass:"thumb-list__item",on:{click:function(a){return t.showBlogDetails(e)}}},[a("div",{staticClass:"blog-img"},[a("img",{attrs:{src:e.featured_image,alt:"logo"}})]),a("div",{staticClass:"blog-title"},[a("b",[t._v(t._s(e.title))])]),a("div",{staticClass:"info"},[a("div",{staticClass:"profile-pic"},[e&&e.author?a("img",{attrs:{src:e.author.avatar_URL,alt:"profile"}}):t._e()]),e&&e.author?a("div",{staticClass:"name-time"},[a("div",[t._v(t._s(e.author.name))]),e.date?a("div",[t._v(" "+t._s(t.formatDistanceToNow(new Date(e.date)))+" ago ")]):t._e()]):t._e()])])})),0)])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t._v("Blogs posted by "),s("img",{attrs:{src:a("cc64")}})])}],p=a("5530"),f=a("2f62"),_=a("ef1b"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"fullscreen-spinner":t.isFullScreen}},[s("img",{attrs:{id:"spinner",src:a("0017"),alt:"Loading..."}})])},v=[],m={name:"Loader",props:{height:{type:String,default:"30px"},width:{type:String,default:"30px"},isFullScreen:{type:Boolean,default:!1}}},b=m,B=(a("cf46"),Object(i["a"])(b,h,v,!1,null,"dbaced3a",null)),C=B.exports,T={name:"home",data:function(){return{formatDistanceToNow:_["a"],isLoadingBlogs:!1}},components:{Loader:C},created:function(){var t=this;this.isLoadingBlogs=!0;var e={number:25};this.$store.dispatch("blogStore/GET_BLOGS",{success:function(){t.isLoadingBlogs=!1},fail:function(){t.isLoadingBlogs=!1},params:Object.assign(e,this.$route.query)})},computed:Object(p["a"])({},Object(f["b"])("blogStore",["getBlogs"]),{blogList:function(){return this.getBlogs.posts}}),methods:{showBlogDetails:function(t){this.$router.push("/details/".concat(t.ID))}}},D=T,y=(a("690f"),Object(i["a"])(D,u,d,!1,null,"92965b22",null)),P=y.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details"},[t.loadingBlogDetails?t._e():a("div",{staticClass:"sidebar"},[a("a",{staticClass:"active",attrs:{href:"/"}},[t._v("Go to Truecaller Blogs")])]),t.loadingBlogDetails?a("div",[a("Loader",{attrs:{isFullScreen:!0}})],1):t._e(),t.loadingBlogDetails?t._e():a("div",{staticClass:"row main-contents"},[a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"details__title"},[t._v(" "+t._s(t.getBlogDetail.title)+" ")]),t.getBlogDetail.featured_image?a("div",{staticClass:"details__blog-img"},[a("img",{attrs:{src:t.getBlogDetail.featured_image,alt:"logo"}})]):t._e(),a("div",{staticClass:"details__info"},[a("div",{staticClass:"profile-pic"},[t.getBlogDetail&&t.getBlogDetail.author?a("img",{attrs:{src:t.getBlogDetail.author.avatar_URL,alt:"profile"}}):t._e()]),t.getBlogDetail&&t.getBlogDetail.author?a("div",{staticClass:"name-time"},[a("div",[t._v(t._s(t.getBlogDetail.author.name))]),t.getBlogDetail.date?a("div",[t._v(" "+t._s(t.formatDistanceToNow(new Date(t.getBlogDetail.date)))+" ago ")]):t._e()]):t._e()]),a("div",{staticClass:"details__content",domProps:{innerHTML:t._s(t.getBlogDetail.content)}})]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"related-posts"},[a("div",{staticClass:"related-posts__head"},[t._v("Related Posts")]),a("div",{staticClass:"related-posts__list"},["unauthorized"!==t.getRelatedPost.error?a("div",{staticClass:"item"},[t._v(" related post will appear here.. ")]):t._e(),"unauthorized"===t.getRelatedPost.error?a("div",{staticClass:"item error"},[t._v(" Something went wrong... "),a("br"),t._v(" "+t._s(t.getRelatedPost)+" ")]):t._e()])]),a("div",{staticClass:"tags"},[a("div",{staticClass:"tags__head"},[t._v("Tags")]),a("div",{staticClass:"tags__list"},t._l(t.topTenTags,(function(e,s){return a("div",{key:s,staticClass:"tag-iem",on:{click:function(a){return t.getPostsByMe("tag",e)}}},[t._v(" "+t._s(e.name)+" ("+t._s(e.post_count)+") ")])})),0)]),a("div",{staticClass:"categories"},[a("div",{staticClass:"categories__head"},[t._v("Categories")]),a("div",{staticClass:"categories__list"},t._l(t.getCategories,(function(e,s){return a("div",{key:s,staticClass:"item",on:{click:function(a){return t.getPostsByMe("category",e)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])])])])},O=[],R=(a("fb6a"),a("ade3")),w={name:"Details",data:function(){return{formatDistanceToNow:_["a"],loadingBlogDetails:!1}},components:{Loader:C},computed:Object(p["a"])({},Object(f["b"])("blogStore",["getBlogDetail","getCategory","getTags","getRelatedPosts"]),{topTenTags:function(){return console.log("TAGS:",this.getTags.tags),this.getTags.tags?this.getTags.tags.sort((function(t,e){return e.post_count-t.post_count})).slice(0,10):[]},getCategories:function(){return this.getCategory.categories||[]},getRelatedPost:function(){return this.getRelatedPosts}}),watch:{getBlogDetail:function(t){console.log("WATCH BLOG DETAILS:",t),t.ID&&this.$store.dispatch("blogStore/GET_RELATED_POST",{pathVariables:{postId:t.ID}})}},created:function(){var t=this;window.scrollTo(0,0),this.loadingBlogDetails=!0,this.$store.dispatch("blogStore/GET_BLOG_BY_ID",{success:function(){t.loadingBlogDetails=!1},fail:function(){t.loadingBlogDetails=!1},pathVariables:{postId:this.$route.params.postId}}),this.$store.dispatch("blogStore/GET_CATEGORY"),this.$store.dispatch("blogStore/GET_TAGS")},methods:{getPostsByMe:function(t,e){console.log("TYPE:",t),console.log("ITEM:",e),this.$router.push({path:"/",query:Object(R["a"])({},t,e.slug)})}}},G=w,S=(a("9030"),Object(i["a"])(G,E,O,!1,null,"a3ee0bba",null)),L=S.exports;s["a"].use(g["a"]);var j=[{path:"/",name:"Home",component:P},{path:"/details/:postId",name:"Detail",component:L},{path:"*",redirect:"/"}],I=new g["a"]({mode:"history",base:"/",routes:j}),k=I,A="https://public-api.wordpress.com/rest/v1.1/sites/107403796",$={api:{getAllPlanets:"".concat(A,"/posts"),getCategories:"".concat(A,"/categories"),getTags:"".concat(A,"/tags"),relatedPosts:function(t){return"".concat(A,"/posts/").concat(t,"/related")},getPostById:function(t){return"".concat(A,"/posts/").concat(t)}}},x=a("bc3a"),q=a.n(x),M=(a("99af"),a("4160"),a("a15b"),a("d81d"),a("b64b"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("159b"),a("53ca")),V=function(t){return t?"?".concat(Object.keys(t).map((function(e){return"object"===Object(M["a"])(t[e])?t[e]&&t[e].map((function(t){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t))})).join("&"):"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&")):""},U={},Y={makeGetRequest:function(t,e,a,s){U.Accept="application/json";var o=t+V(s);q.a.get(o,{withCredentials:!1,headers:U}).then(e).catch(a)},makePostRequest:function(t,e,a,s,o){var n=t+V(o);q.a.post(n,s,{withCredentials:!1}).then(e).catch(a)}},F={getAllBlogs:function(t,e,a,s){Y.makeGetRequest($.api.getAllPlanets,t,e,s)},getCategory:function(t,e,a,s){Y.makeGetRequest($.api.getCategories,t,e,s)},getTags:function(t,e,a,s){Y.makeGetRequest($.api.getTags,t,e,s)},getRelatedPost:function(t,e,a,s){Y.makePostRequest($.api.relatedPosts(a.postId),t,e,s)},getBlogById:function(t,e,a,s){Y.makeGetRequest($.api.getPostById(a.postId),t,e,s)}},N={handleErrors:function(t,e){var a=e.response?e.response.data:{};console.log("...err:",e),console.log("...ERR:",e.response),console.log("ERR OBJECT:",a)}},H={state:{blogs:[],blogDetail:{},categories:[],tags:[],relatedPost:[]},getters:{getBlogs:function(t){return t.blogs},getBlogDetail:function(t){return t.blogDetail},getCategory:function(t){return t.categories},getTags:function(t){return t.tags},getRelatedPosts:function(t){return t.relatedPost}},mutations:{setBlogs:function(t,e){t.blogs=e},setBlogDetail:function(t,e){t.blogDetail=e},setCategory:function(t,e){t.categories=e},setTags:function(t,e){t.tags=e},setRelatedPosts:function(t,e){t.relatedPost=e}},actions:{GET_BLOGS:function(t){var e=t.commit,a=t.dispatch,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.params,n=s.pathVariables,i=s.success,r=s.fail;F.getAllBlogs((function(t){e("setBlogs",t.data),i()}),(function(t){N.handleErrors(a,t),r()}),n,o)},GET_CATEGORY:function(t){var e=t.commit,a=t.dispatch,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.params,n=s.pathVariables;F.getCategory((function(t){e("setCategory",t.data)}),(function(t){N.handleErrors(a,t)}),n,o)},GET_TAGS:function(t){var e=t.commit,a=t.dispatch,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.params,n=s.pathVariables;F.getTags((function(t){e("setTags",t.data)}),(function(t){N.handleErrors(a,t)}),n,o)},GET_RELATED_POST:function(t){var e=t.commit,a=t.dispatch,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.params,n=s.pathVariables;F.getRelatedPost((function(t){console.log("GET_RELATED_POST:",t),e("setRelatedPosts",t.data)}),(function(t){e("setRelatedPosts",t.response.data),N.handleErrors(a,t)}),n,o)},GET_BLOG_BY_ID:function(t){var e=t.commit,a=t.dispatch,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s.params,n=s.pathVariables,i=s.success,r=s.fail;F.getBlogById((function(t){console.log("GET_BLOG_BY_ID:",t),e("setBlogDetail",t.data),i()}),(function(t){N.handleErrors(a,t),r()}),n,o)}},namespaced:!0};s["a"].use(f["a"]);var J=new f["a"].Store({modules:{blogStore:H}});a("2aeb");s["a"].config.productionTip=!1,new s["a"]({router:k,store:J,render:function(t){return t(c)}}).$mount("#app")},"56e5":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),o=a.n(s);o.a},"690f":function(t,e,a){"use strict";var s=a("3670"),o=a.n(s);o.a},9030:function(t,e,a){"use strict";var s=a("95ea"),o=a.n(s);o.a},"95ea":function(t,e,a){},"9c0c":function(t,e,a){},cc64:function(t,e,a){t.exports=a.p+"img/icon-open-graph.f0e64636.png"},cf46:function(t,e,a){"use strict";var s=a("56e5"),o=a.n(s);o.a}});
//# sourceMappingURL=app.992c1b85.js.map